# Digital-Gungroo
IDD Final Project

All our work and photos in [Google Drive](https://drive.google.com/drive/folders/1AlLCML_3bFY2mgS-XThAkAVHnjg3Gx6r?usp=sharing).

This project was inspired by the traditional anklets, *ghungroos* often used in forms of Indian classical dance. These are traditionally covered in large bells, and are used to add percussive sounds to the dancers footwork. It is also an essential part of the performers' costumes, so we knew going into this that the design would be very important. As dancers, Ananya and Meera have used these often, and wanted to bring a digital dimension to the traditional art form. By making the anklet more modern, and giving users the opportunity to change the sounds that are generated by their movements, we can also make these anklets more culturally diverse for dancers of other styles.

![Traditional Ghungroo](/images/Ghungroo.jpg)

## Circuit
For the first step for our circuit, we created a form of a pedometer using the accelerometer. We used the acceleration measured on the y axis to determine whether someone was taking a footstep. Below is the code and an image of the circuit:\

[Pedometer Code](https://github.com/manification10/Digital-Gungroo/blob/master/step_light_up.ino)

![First Circuit](/images/AccelerometerCircuit.jpg)

From here, we created a [bash script](https://github.com/manification10/Digital-Gungroo/blob/master/sound_play_from_computer.bash) to run every time a footstep was detected, and play the sound of the ghungroo bells. Below is a video of our first working prototype with sound:

[See Video Here](https://drive.google.com/open?id=1kgregFIQAMCG6QkecJbtPY6cUl8rYSMW)

The delay we had programmed into the Arduino caused the audio to be less realistic, so we removed it and changed the sound of the bells to something quicker where we could see an immediate response. We then began working with light, and wanted to create three layers of lights that would respond to movements on the different axes. Below is a video of our first pass using the LEDs in combination with the accelerometer:

[See Video Here](https://drive.google.com/file/d/1_J5kBKLptu_eg036MyOKKOaFNdn7jq2I/view?usp=sharing)

We then decided to use RGB LED strips for the anklet, one strip for each row. Instead of having each row respond to movement in one axis, we wired these so that for each strip received either the R, G or B values from either the X, Y or Z axis. This way the colors for each row were always different, and would never be switched off. 

The last step in putting this circuit together was connecting a bluetooth module in order to have the sound play through the laptop. We used an HC-05 module, which sent the accelerometer data to the laptop. The code on the Arduino would measure different "click thresholds" from the accelerometer and bucket them into either group 1, 2 or 3 based on how fast the user moved their foot. This would then be printed on the Serial Monitor. \

[Final Arduino Code](https://github.com/manification10/Digital-Gungroo/blob/master/Light_and_Sound.ino)

Instead of the bash script, we switched to Python to make use of their Threading library. This helped significantly reduce the lag on the audio, and allowed multiple bells to go off at once based on the different movements. This new script read the values of 1, 2, or 3 from the bluetooth serial port and played the audio files accordingly. \

[Final Python Code](https://github.com/manification10/Digital-Gungroo/blob/master/audio_thread.ipynb)


## Design
As mentioned above, the design was critical since these anklets are often used as part of a costume. We wanted it to be comfortable and wearable, while still having a stage presence. 

We began creating several iterations of paper prototypes, and we explored creating living hinges on paper and cardboard, as shown below. We were aiming to use this material as the prototype anklet. 
![Prototype 1](/images/FirstAttempt.jpg)
![Prototype 2](/images/SecondAttempt.jpg)

After playing around with more versions of living hinges, we found one that worked for us, and was able to support the first version of our circuit on the breadboard:

![Prototype 3](/images/ThirdAttempt_1.jpg)
![Prototype 3 Worn](/images/ThirdAttempt_2.jpg)

Once we had decided on using the LED strips, we realized that the living hinge might not be able to showcase them in the way we wanted. We began experimenting with different fabrics, and settled on felt since we were able to laser cut it with precision. We toyed with several design ideas for how to place the lights on to the felt, such as diffusing the light with another overlayed fabric, or adding ruffles for each row. However we found that weaving the lights through the felt showcased them most efficiently and still gave it that modern look we were hoping for. 

![Felt Sleeve](/images/FeltSleeve.png)

![Woven Lights](/images/WovenLights.jpeg)

Since we needed a 9V battery to power the lights, we included an additional enclosure into the sleeve to allow for the battery to easily removed if it needed replacing:

![Battery Enclosure](/images/BatteryEnclosure.jpeg)

## The Final Product

![Team Photo](/images/TeamPhoto.jpeg)

Here is a video of the final product in action:
[Final Ghungroo Video]()

